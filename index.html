<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Sales Calculator</title>

    <link rel="stylesheet" type="text/css" href="main.css">
</head>

<body>
    <link rel="shortcut icon" href="http://iluvatar.github.io//favicon.ico?v=2" />

    <label for="numUsers">Number of users:</label>
    <input class="dataInput" type="text" id="numUsers" onchange="updateCost()"><br>

    <div id="quarterHolder">
        <div class="quarterDisplay" id="q1">
            <label class="userLabel" for="usersQ1">Num users:</label>
            <input class="userInput userLabel" type="text" id="usersQ1">
        </div>
    </div>

    <button onClick="addQuarter()">ADD</button>

    <label for="quarterNum">Quarter:</label>
    <select class="dataInput" id="quarterNum" onchange="updateCost()">
        <optgroup label="Year 1">
            <option value="1">Year 1 Quarter 1</option>
            <option value="2">Year 1 Quarter 2</option>
            <option value="3">Year 1 Quarter 3</option>
            <option value="4">Year 1 Quarter 4</option>
        <optgroup label="Year 2">
            <option value="5">Year 2Quarter 1</option>
            <option value="6">Year 2Quarter 2</option>
            <option value="7">Year 2Quarter 3</option>
            <option value="8">Year 2Quarter 4</option>
        <optgroup label="Year 3">
            <option value="9">Year 3 Quarter 1</option>
            <option value="10">Year 3 Quarter 2</option>
            <option value="11">Year 3 Quarter 3</option>
            <option value="12">Year 3 Quarter 4</option>
        <optgroup label="Year 4">
            <option value="13">Year 4 Quarter 1</option>
            <option value="14">Year 4 Quarter 2</option>
            <option value="15">Year 4 Quarter 3</option>
            <option value="16">Year 4 Quarter 4</option>
        <optgroup label="Year 5">
            <option value="17">Year 5 Quarter 1</option>
            <option value="18">Year 5 Quarter 2</option>
            <option value="19">Year 5 Quarter 3</option>
            <option value="20">Year 5 Quarter 4</option>
    </select><br>

    <br>
    Total Cost: $<span id="totalCost"></span><br>
    Cost per User: $<span id="userCost"></span><br>

    <script src="calculate.js"></script>
    <script>
        var curId = 2;
        function addQuarter() {
            var holder = document.getElementById("quarterHolder");
            var newQuarter = document.createElement("div");
            newQuarter.className = "quarterDisplay";
            newQuarter.id = "q" + curId;
            curId++;
            holder.appendChild(newQuarter);
        }

        function updateCost() {
            var quarter = document.getElementById("quarterNum").value;
            var users = document.getElementById("numUsers").value;

            var totalCost = document.getElementById("totalCost");
            var userCost = document.getElementById("userCost");

            totalCost.innerHTML = getQuarterlyFee(quarter, users);
            userCost.innerHTML = (getQuarterlyFee(quarter, users) / numUsers).toFixed(2);
        }

        updateCost();
    </script>
    
</body>
